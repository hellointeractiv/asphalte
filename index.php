<?
/*
| -------------------------------------------------------------------------
| just for security
| -------------------------------------------------------------------------
*/
define('app', 'app works!');

/*
| -------------------------------------------------------------------------
| init variables
| -------------------------------------------------------------------------
*/
$app = array();

/*
| -------------------------------------------------------------------------
| load class
| -------------------------------------------------------------------------
*/
require('asphalte.php');
$route = new Asphalte;

/*
| -------------------------------------------------------------------------
| ex : http://www.monsite.com/mapage
| -------------------------------------------------------------------------
*/


if(	$route->get(":id")	){
	
	if(	$app['route']['id']==""	){
		
		echo json_encode(array("result"=>"get -> home page!")) ;
		
	}else{
		
		$id = $app['route']['id'];	
		echo json_encode(array("result"=>"get -> id : ".$id)) ;
	
	}
/*
| -------------------------------------------------------------------------
| ex : http://www.monsite.com/a/fat/pattern
| -------------------------------------------------------------------------
*/
}else if(	$route->get("a/fat/pattern")	){
	
	echo json_encode(array("result"=>"get -> a/fat/pattern page")) ;

/*
| -------------------------------------------------------------------------
| ex : http://www.monsite.com/article/mapage
| -------------------------------------------------------------------------
*/
}else if(	$route->get("article/:id")	){
	
	$id = $app['route']['id'];
	echo json_encode(array("result"=>"get -> article -> id : ".$id)) ;

/*
| -------------------------------------------------------------------------
| ex : http://www.monsite.com/categorie/12
| -------------------------------------------------------------------------
*/

}else if(	$route->get("categorie/:cat")	){	
	$cat = $app['route']['cat'];
	echo json_encode(array("result"=>"get -> categorie -> cat : ".$cat)) ;
	
	
/*
| -------------------------------------------------------------------------
| ex : http://www.monsite.com/categorie/12
| -------------------------------------------------------------------------
*/

}else if(	$route->post("a/fat/pattern")	){		
	echo json_encode(array("result"=>"post -> a/fat/pattern")) ;
	

/*
| -------------------------------------------------------------------------
| ex : http://www.monsite.com/12 in put method
| -------------------------------------------------------------------------
*/

}else if(	$route->put(":id")	){
	$id = $app['route']['id'];

	echo json_encode(array("result"=>"put ->".$id)) ;
	

/*
| -------------------------------------------------------------------------
| ex : http://www.monsite.com/12 in delete method
| -------------------------------------------------------------------------
*/

}else if(	$route->delete(":id")	){
	$id = $app['route']['id'];
	echo json_encode(array("result"=>"delete ->".$id)) ;
	


/*
| -------------------------------------------------------------------------
| oups ! 404
| -------------------------------------------------------------------------
*/		
}else{

	echo json_encode(array("result"=>"404")) ;

}




?>
